const y=document.querySelector(".js_form_arrow1"),v=document.querySelector(".js_form_arrow2"),P=document.querySelector(".js_form1"),L=document.querySelector(".js_form2");y.addEventListener("click",e=>{P.classList.toggle("display"),y.classList.toggle("arrow-up")});v.addEventListener("click",e=>{L.classList.toggle("display"),v.classList.toggle("arrow-up"),console.log(L)});const N=document.querySelector(".js_colorsUl"),u=document.querySelector(".js_ProductContainer");document.querySelector(".js_selectcategory");let _=[{color:"#90D10B",category:"Muebles",className:"container-green",textClassName:"categoryTextGreen",number:1},{color:"#EB2A82",category:"Ropa",className:"container-pink",textClassName:"categoryTextPink",number:2},{color:"#8547E8",category:"Informática",className:"container-purple",textClassName:"categoryTextPurple",number:3},{color:"#FC9A7C",category:"Otros",className:"container-orange",textClassName:"categoryTextOrange",number:4}];const T=e=>`
       <li class="js_colorLi colorLi" data-category="${e.category}">
      <button class="colorPalette" style="background-color: ${e.color};"></button>
      <p class="js_categoryText categoryText">${e.category}</p>
    </li>`,A=()=>{let e="";for(const n of _)e+=T(n);N.innerHTML=e;const t=document.querySelectorAll(".js_colorLi");console.log(t);for(const n of t)n.addEventListener("click",S);const o=document.querySelectorAll(".js_categoryText");console.log(o);for(const n of o)n.addEventListener("click",S)},S=e=>{e.preventDefault();const t=document.querySelector(".js_form_arrow2"),o=document.querySelector(".js_form2");u.classList.remove("container-green","container-pink","container-purple","container-orange");const n=document.querySelectorAll(".js_colorLi");console.log(n);for(const i of n)i.classList.remove("categoryTextGreen","categoryTextPink","categoryTextPurple","categoryTextOrange");const c=e.currentTarget,a=c.dataset.category,s=_.find(i=>i.category===a);s?(e.preventDefault(),u.classList.add(s.className),u.setAttribute("data-number",s.number),c.classList.add(s.textClassName),o.classList.add("display-2"),t.classList.add("arrow-up")):console.warn(`Categoría no encontrada: ${a}`)};A();const x=document.querySelector(".js_productList"),w=document.querySelector(".js_button"),$=document.querySelector(".js_buttonDelet"),k=document.querySelector(".js_cardImage"),B=document.querySelector(".js_buttonXShare");let r=[];w.addEventListener("click",e=>{if(e.preventDefault(),ee()){const t=D();M(t),d(r),fetch("https://dev.adalab.es/api/info/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(o=>o.json()).then(o=>{console.log(o),B.innerHTML=`<a class="button-adalab" href="https://dev.adalab.es/api/info/${o.infoID}">https://dev.adalab.es/api/info/${o.infoID}</a>  
    <a class="shareButton button-x" href="https://twitter.com/intent/tweet?text=${o.infoID}">Compartir en <img class="form_imgX" src="../images/X_Twitter_icon.svg"></a>`})}});$.addEventListener("click",e=>{U(),d(r)});function D(){const e=k.getAttribute("src"),t=document.getElementById("number").value,o=document.getElementById("nameProduct").value,n=u.getAttribute("data-number"),c=document.getElementById("nameVendor").value,a=document.getElementById("phone").value,s=document.getElementById("email").value;return{field1:n,field2:Date.now(),field3:t,field4:o,field5:c,field6:a,field7:s,photo:e}}function M(e){r.push(e),console.log(r)}function H(e){return`<li class="container-list">
                <span class="container_erase js_cardsEraser" data-id="${e.field2}">X</span>
                <img src="${e.photo}" class="container_img-2" 
                alt="product image ${e.field4}"/>
                <p class="container_price">${Number(e.field3).toFixed(2)}€</p>
                <p class="container_name">${e.field4}</p>
            </li>`}function d(e){let t="";for(const o of e)t+=H(o);x.innerHTML=t,O(),localStorage.setItem("product",JSON.stringify(e))}function O(){const e=document.querySelectorAll(".js_cardsEraser");for(const t of e)t.addEventListener("click",o=>{o.preventDefault();const n=o.currentTarget.getAttribute("data-id"),c=r.findIndex(a=>a.field2===parseInt(n));c!==-1&&(r.splice(c,1),localStorage.setItem("product",JSON.stringify(r)),d(r))})}function F(){const e=JSON.parse(localStorage.getItem("product"));Array.isArray(e)?r=e:r=[],d(r)}function U(){localStorage.removeItem("product"),r=[]}F();console.log(">> Ready :)");const g=document.querySelector(".js_inputPrice"),f=document.querySelector(".js_inputProduct"),p=document.querySelector(".js_inputName"),V=document.querySelector(".js_inputEmail"),R=document.querySelector(".js_inputPhone"),h=document.querySelector("#imageUpload"),E=document.querySelector(".js_cardImage"),m=document.querySelector(".js_cardPrice"),b=document.querySelector(".js_cardName");document.querySelector(".js_iconEmail");const j=document.querySelector(".js_sellerName"),X=e=>{const t=e.target.files[0];if(t){const o=new FileReader;o.onload=()=>{E.src=o.result},o.readAsDataURL(t)}};h.addEventListener("change",X);const J=e=>{const t=g.value.trim(),o=parseFloat(t);!isNaN(o)&&o>=0?m.innerHTML=`${o.toFixed(2)}€`:m.innerHTML="Precio no disponible"};g.addEventListener("input",J);const z=e=>{const t=f.value;b.innerHTML=t};f.addEventListener("input",z);const Z=e=>{const t=p.value;j.innerHTML=t};p.addEventListener("input",Z);const G=document.querySelector(".js_inputEmail"),q=document.querySelector(".js_iconEmail"),K=document.querySelector(".js_inputPhone"),C=document.querySelector(".js_iconPhone"),Q=e=>{const t=e.currentTarget.value;q.setAttribute("href",`mailto:${t}`)};G.addEventListener("input",Q);const W=e=>{const t=e.currentTarget.value;C.setAttribute("href",`tel:${t}`)};K.addEventListener("input",W);const Y=document.querySelector(".js_buttonReset");Y.addEventListener("click",e=>{e.preventDefault(),g.value="",f.value="",p.value="",V.value="",R.value="",h.value="",E.src="./assets/adalab-placeholder-162b15ca.svg",m.innerHTML="0.00€",b.innerHTML="Nombre del producto:",j.innerHTML="Nombre del vendedor:",q.setAttribute("href","mailto:correo@example.com"),C.setAttribute("href","tel:123456789");const t=document.querySelector(".js_ProductContainer");t.style.backgroundColor="",t.classList.remove("container-green","container-pink","container-purple","container-orange")});function ee(){const e=document.getElementById("imageUpload"),t=document.getElementById("number"),o=document.getElementById("nameProduct"),n=document.getElementById("nameVendor"),c=document.getElementById("email"),a=document.getElementById("phone");return l(e)?(document.getElementById("spanImage").focus(),!1):I(t)?l(o)?(o.focus(),!1):l(n)?(n.focus(),!1):te(c)?oe(a)?!0:(a.focus(),!1):(c.focus(),!1):(t.focus(),!1)}function l(e){const t=e.value.trim();return console.log(e.id),console.log(t===""),t===""}function I(e){return l(e)?!1:(console.log(e.id),console.log(isNaN(e.value)),console.log(!isNaN(e.value)),!isNaN(e.value))}function te(e){if(l(e))return!1;const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return console.log(e.id),console.log(t.test(e.value)),t.test(e.value)}function oe(e){if(!I(e))return!1;const t=/^\d{9}$/;return console.log(e.id),console.log(e.value),t.test(e.value)}
//# sourceMappingURL=main.js.map
